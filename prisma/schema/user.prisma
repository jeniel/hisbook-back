model User {
    id                 String   @id @default(uuid())
    /// @Validator.@IsEmail()
    email              String   @unique
    username           String   @unique
    /// @HideField()
    hashedPassword     String   @map("hashed_password")
    hashedRefreshToken String?  @map("hashed_refresh_token")
    role               Role[]   @default([USER])
    isActive           Boolean  @default(true) @map("is_active")
    isApprove          Boolean  @default(false) @map("is_approve")
    // RELATION
    profile            Profile?
    // STAMP
    createdAt          DateTime @default(now()) @map("created_at") @db.Date
    createdBy          String?  @map("created_by")
    updatedAt          DateTime @default(now()) @updatedAt @map("updated_at") @db.Date
    updatedBy          String?  @map("updated_by")

    @@map("user")
    @@schema("public")
}

model Profile {
    id               String              @id @default(uuid())
    firstName        String?             @map("first_name")
    middleName       String?             @map("middle_name")
    lastName         String?             @map("last_name")
    designation      String?
    employeeID       Int?                @default(autoincrement()) @map("employee_id")
    dateHired        DateTime?           @map("date_hired")
    birthDate        DateTime?           @map("birth_date")
    address          Json?
    contact          Json?
    //RELATION
    department       Department?         @relation(fields: [departmentId], references: [id])
    departmentId     String?             @map("department_id")
    user             User?               @relation(fields: [userId], references: [id])
    userId           String?             @unique @map("user_id")


    // STAMP
    createdAt        DateTime            @default(now()) @map("created_at") @db.Timestamptz()
    createdBy        String?             @map("created_by")
    updatedAt        DateTime            @default(now()) @updatedAt @map("updated_at") @db.Timestamptz()
    updatedBy        String?             @map("updated_by")

    @@map("profile")
    @@schema("public")
}

model Department {
    id          String              @id @default(uuid())
    name        String
    description String?
    // RELATION
    profile     Profile[]

    @@map("department")
    @@schema("public")
}

enum Role {
    USER
    ADMIN
    @@schema("public")
}
